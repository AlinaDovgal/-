# Документация для подсистемы взаимодействия сотрудников и планирования задач
## Введение
Документация описывает подсистему для менеджеров проектов и членов команд, которая позволит им
более эффективно взаимодействовать, планировать задачи и отслеживать прогресс.
## Описание бизнес-процессов
### Регистрация и создание профиля пользователя
**Участники:** менеджер проекта, член команды.

**1. Регистрация нового пользователя:**

Триггер: пользователь заходит на платформу и нажимает на кнопку "Зарегистрироваться".
   + Пользователь вводит основные данные: имя, фамилия, email, пароль, роль в системе (менеджер, участник команды);
   + Система отправляет подтверждение на указанный адрес электронной почты;
   + Пользователь переходит по ссылке, указанной в письме, тем самым подтверждая регистрацию;
   + Система сохраняет данные и создает профиль пользователя;
   + После подтверждения email пользователь входит в систему;
   + Система предлагает заполнить профиль.
   
**2. Создание и настройка профиля:**

Триггер: пользователь зашел на платформу и прошел регистрацию.
   + Пользователь заполняет обязательные поля: наименование организации, должность, отдел;
   + Система предлагает пользователю заполнить необязательные поля: фото, телефон, личные навыки, город, часовой пояс, формат уведомлений;
   + Система сохраняет данные и создает профиль пользователя с заполненной информацией.

### Заполнение данных по проекту

**Участники:** менеджер проекта.

Триггер: Менеджер зашел на платформу и выбрал "Создать проект".
   + Менеджер заполняет следующие поля: название проекта, описание, цель, дата начала и окончания;
   + Менеджер добавляет участников в проект, выбирая их из списка по email-адресу;
   + Менеджер назначает роли участникам проекта (аналитик, разработчик, тестировщик, дизайнер и т.д.);
   + Менеджер подтверждает создание проекта;
   + Система проверяет данные и создает проект;
   + Система направляет всем участникам уведомления о создании проекта.

### Создание и назначение задач

**Участники:** менеджер проекта, член команды.

Триггер: Менеджер зашел на платформу и выбрал опцию "Создать задачу".
   + Менеджер создает новую задачу в рамках проекта;
   + Менеджер заполняет следующие поля: название, описание задачи, приоритет, дедлайн;
   + Менеджер прикрепляет файлы, ссылки, документы (при необходимости);
   + Менеджер выбирает исполнителя из команды проекта;
   + Менеджер добавляет задачу;
   + Система проверяет данные и создает задачу на исполнителя;
   + Участник команды получает уведомление о новой задаче.

### Календарь для планирования встреч и сроков выполнения задач

**Участники:** менеджер проекта, член команды.

Триггер: Пользователь зашел на платформу и выбрал "Календарь".
   + Пользователь добавляет в календарь: встречи по проекту, встречи по задачам, дедлайны задач.
   + Пользователь указывает участников для каждого события и задачи;
   + Система автоматически добавляет события и задачи с установленными сроками в личные календари участников;
   + Пользователи получают напоминания о приближающихся событиях.

### Хранение документов и файлов

**Участники:** менеджер проекта, член команды.

Триггер: Пользователь зашел на платформу.
+ Пользователь выбирает проект или задачу, к которой необходимо прикрепить файл;
+ Пользователь указывает название файла;
+ Система сохраняет изменения;
+ Система отображает список прикреплённых файлов с возможностью предпросмотра;
+ Система отображает историю и авторов изменений.

### Общение и обсуждение

**Участники:** менеджер проекта, член команды.

Триггер: Пользователь зашел на платформу.
   + Пользователь создает чат по проекту или задаче; 
   + Пользователь внутри чата пишет текстовое сообщение или прикладывает вложение (изображение, документ);
   + Система уведомляет участников о новом сообщении;
   + Пользователь внутри чата начинает командный видеозвонок;
   + Система уведомляет участников о видеозвонке;
   + Участники подключаются к командному видеозвонку;
   + Система автоматически архивирует старые сообщения для будущего доступа.

## Описание заинтересованных сторон
1. Менеджер проекта: 
    + Создает и управляет проектами;
    + Назначает задачи.
2. Члены команды (разработчики, дизайнеры, аналитики и др.): 
    + Выполняют задачи;
    + Добавляют файлы по проекту или задаче;
    + Участвуют в обсуждениях и видеозвонках;
    + Назначают события в календаре.
3. Команда разработки:
    + Разрабатывает и поддерживает систему;
    + Обеспечивает реализацию требований;
    + Взаимодействует с заинтересованными сторонами для уточнения требований и улучшения системы.

## Функциональные и нефункциональные требования

**Функциональные требования:**

+ Система должна поддерживать регистрацию пользователей с подтверждением email;
+ Система должна предоставлять возможность создавать и редактировать профиль пользователя;
+ Менеджер должен иметь возможность создавать проекты;
+ Менеджер должен иметь возможность добавлять участников в созданные им же проекты и назначать им роли;
+ Менеджер должен иметь возможность создавать задачи с указанием названия, описания, приоритета, сроков; 
+ Менеджер должен иметь возможность назначать ответственного за исполнение задачи;
+ Пользователь должен иметь возможность создавать события в календаре;
+ Система должна направлять уведомления  о предстоящих событиях, сроках выполнения задач, новых сообщениях или видеозвонках в всем участникам данного события или чата;
+ Пользователь должен иметь возможность прикреплять файлы к задачам, обсуждениям, проектам;
+ Система должна поддерживать автоматическое сохранение истории изменений;
+ Пользователь должен иметь возможность создавать чаты для проектов и задач;
+ Пользователь должен иметь возможность инициировать видеозвонки в рамках чатов.

**Нефункциональные требования:**

+ Система должна обеспечивать обработку запросов с временем отклика не более 1 секунды;
+ Система должна поддерживать работу более 1000 активных пользователей одновременно;
+ Данные пользователей должны быть защищены с использованием шифрования;
+ Доступ к системе должен быть ограничен с использованием ролевой модели;
+ Логирование всех значимых действий пользователей в системе;
+ Система должна быть доступна круглосуточно с минимальным временем простоя;
+ Система должна обеспечивать восстановление данных после сбоев без их потери;
+ Обновления системы должны проводиться без прерывания работы пользователей.

## Моделирование БП

Диаграмма бизнес-процесса "Создание и назначение задач" в нотации BPMN

![BPMN](https://github.com/AlinaDovgal/-/blob/30f9126b81beaaa94f60cb8e506f8945aa4969c3/Diagrams/BPMN%20diagram%20.png)

## Структура БД
Таблицы:

**Users**
|Поле|Тип|Описание|
|----|---|--------|
|id|PK|Уникальный идентификатор пользователя|
|email||Электронная почта|
|role||Роль в системе (1-Менеджер, 2- Участник команды)|
|password||Пароль|
|created_at||Дата регистрации|

**Profiles**
|Поле|Тип|Описание|
|-|---------|------|
|id|PK|Уникальный идентификатор профиля|
|user_id|FK|ID пользователя|
|first_name||Имя|
|last_name||Фамилия|
|photo_url||URL фото|
|organization||Название организации|
|position||Должность|
|department||Отдел|
|phone||Контактный телефон|
|city||Город|
|timezone||Часовой пояс|
|skills||Навыки|
|notification_format||Формат уведомлений (0-SMS, 1-Email, 2-push-уведомления)|
|created_at||Дата создания профиля|
|updated_at||Дата последнего обновления|

**Projects**
|Поле|Тип|Описание|
|-|---------|-----|
|id|PK|Уникальный идентификатор проекта|
|name||Название проекта|
|description||Описание|
|manager_id|FK|ID менеджера проекта|
|start_date||Дата начала|
|end_date|| Дата завершения|
|status||Статус проекта|
|created_at||Дата создания|
|updated_at||Дата последнего обновления|

**UsersProjects**
|Поле|Тип|Описание|
|-|---------|-----|
|id|PK|Уникальный идентификатор|
|user_id|FK|ID пользователя|
|project_id|FK|ID проекта|
|role||Роль пользователя в проекте|
|date_added||Дата добавления|

**Tasks**
|Поле|Тип|Описание|
|-|---------|-----|
|id|PK|Уникальный идентификатор задачи|
|project_id|FK|ID проекта|
|name||Название задачи|
|description||Описание|
|priority||Приоритет (0-низкий, 1-средний, 2-высокий)|
|status||Статус|
|due_date||Дедлайн|
|created_by|FK|Создатель задачи|
|user_id|FK|Ответственный за задачу|
|created_at||Дата создания|
|updated_at||Дата последнего обновления|

**Files**
|Поле|Тип|Описание|
|-|---------|-----|
|id|PK|Уникальный идентификатор файла|
|user_id|FK|ID пользователя|
|task_id|FK|ID задачи|
|project_id|FK|ID проекта|
|file_url||Ссылка на файл|
|category_file||Категория файла|
|version|| Версия файла|
|created_at||Дата загрузки|

**Events**
|Поле|Тип|Описание|
|-|---------|-----|
|id|PK|Уникальный идентификатор события|
|title||Название события|
|description||Описание|
|start_time||Дата и время начала|
|end_time||Дата и время завершения|
|project_id|FK|ID проекта|
|user_id|FK|ID создателя|

**Messages**
|Поле|Тип|Описание|
|-|---------|-----|
|id|PK|Уникальный идентификатор сообщения|
|user_id|FK|ID отправителя|
|project_id|FK|ID проекта|
|task_id|FK|ID задачи|
|message_text||Текст сообщения|
|created_at||Дата отправки|

**VideoCalls**
|Поле|Тип|Описание|
|-|---------|-----|
|id|PK|Уникальный идентификатор звонка|
|user_id|FK|ID организатора звонка|
|project_id|FK|ID проекта|
|duration||Длительность (в минутах)|
|created_at||Дата и время создания звонка|

**VideoCallParticipants**
|Поле|Тип|Описание|
|-|---------|-----|
|id|PK|Уникальный идентификатор записи|
|call_id|FK|ID видеозвонка|
|user_id|FK|ID пользователя|
|joined_at||Время подключения к звонку|
|left_at||Время выхода из звонка|

ER-диаграмма
![ER-диаграмма](https://github.com/AlinaDovgal/-/blob/30f9126b81beaaa94f60cb8e506f8945aa4969c3/Diagrams/ER-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20(2).png)

## Архитектура системы
Диаграмма контекста
![Диаграмма контекста](https://github.com/AlinaDovgal/-/blob/7298f9c62a733fd4b1e976fe2f82a42249f6a7ca/Diagrams/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%20%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0.png)

Диаграмма контейнеров
![Диаграмма контейнеров](https://github.com/AlinaDovgal/-/blob/654c0b0cdff0367161c0c4ca7a2c9f98036bba50/Diagrams/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%20%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%B9%D0%BD%D0%B5%D1%80%D0%BE%D0%B2%20(2).png)

## Описание взаимодействия компонентов системы
Диаграмма последовательности “Регистрация пользователя”
![Диаграмма последовательности1](https://github.com/AlinaDovgal/-/blob/7298f9c62a733fd4b1e976fe2f82a42249f6a7ca/Diagrams/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%20%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8%20%E2%80%9C%D0%A0%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F%20%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F%E2%80%9D.png)

Диаграмма последовательности "Создание проекта и задачи"
![Диаграмма последовательности2](https://github.com/AlinaDovgal/-/blob/7298f9c62a733fd4b1e976fe2f82a42249f6a7ca/Diagrams/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%20%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8%20%E2%80%9C%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0%20%D0%B8%20%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B8%E2%80%9D.png)

